<div class="portafolio-container">
  <h1 class="titulo-seccion"> Proyectos de Desarrollo de Videojuegos </h1>
  <section class="projects">
    <div *ngFor="let juego of juegos" class="card" [ngClass]="{ 'expandido': juego.expandido }">
      <h2>{{ juego.titulo }}</h2>      
      <div class="card-info">
        <div class="tecnologias">
          <span *ngFor="let tech of juego.tecnologias" class="badge" style="display: inline-flex; align-items: center; gap: 6px;">
            <i [class]="tech.icono" style="font-size: 1.2rem;"></i>
            {{ tech.nombre }}
          </span>
        </div>
        
        <div class="carrusel">
          <!-- Bot칩n Izquierdo -->
          <a class="slide-btn left"(click)="cambiarSlide(juego, -1)"*ngIf="juego.medios && juego.medios.length > 1">
            <i class="fas fa-chevron-left"></i>
          </a>

          <!-- Contenedor del medio -->
          <div class="media-container">
            <ng-container *ngIf="juego.medios && juego.medios.length > 0">
              <ng-container *ngIf="esImagen(juego.medios[juego.currentSlide!])">
                <img [src]="juego.medios[juego.currentSlide!]" alt="Media del juego" />
              </ng-container>

              <ng-container *ngIf="esVideo(juego.medios[juego.currentSlide!])">
                <iframe
                  width="100%"
                  height="315"
                  [src]="juego.medios[juego.currentSlide!] | safeUrl"
                  frameborder="0"
                  allowfullscreen
                ></iframe>
              </ng-container>
            </ng-container>
          </div>

          <!-- Bot칩n Derecho -->
          <a
            class="slide-btn right"
            (click)="cambiarSlide(juego, 1)"
            *ngIf="juego.medios && juego.medios.length > 1"
          >
            <i class="fas fa-chevron-right"></i>
          </a>
        </div>

        <div class="descripcion" [class.colapsado]="!juego.expandido && juego.descripcion.length > 250">
          {{ juego.descripcion }}
          <a *ngIf="juego.descripcion.length > 250" (click)="juego.expandido = !juego.expandido" class="ver-mas-btn">
            {{ juego.expandido ? 'Ver menos' : 'Ver m치s' }}
          </a>
        </div>
      </div>
      

      <div class="acciones">
        <a mat-button color="primary" [href]="juego.enlaceCodigo" target="_blank"><i class="fab fa-github"></i> Ver c칩digo</a>
        <a mat-button color="accent" [href]="juego.enlaceDescarga" download><i class="fas fa-gamepad"></i> Jugar</a>
      </div>
    </div>
  </section>

</div>
